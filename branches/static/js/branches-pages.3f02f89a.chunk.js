(this["webpackJsonpreact-branch-locator"]=this["webpackJsonpreact-branch-locator"]||[]).push([[1],{181:function(e,a,t){"use strict";var s=t(2),n=t(0),r=t.n(n),c=t(29),l=t(38),o=t(7),i=t(195),m=t(183),p=t(184),d=t(75),h=t.n(d),g=t(196),u=t(185),b=t(194),_=t(186),E=t(115),f=t(187),w=t(197),O=t(76),y=t(188),k=t(19),T=t(198),v=t(16),j=t(199),M=t(189);a.a=Object(l.c)((function(e){let{intl:a,staticContext:t,match:l,location:d}=e;const{locale:N}=a;let P={},R={};const C=Object(o.i)(),B=Object(w.a)();if(t&&t.data){if(P=t.data,t.data.appConfig&&t.data.appConfig.gtm){const e=t.data.appConfig.gtm;e.hasOwnProperty("enabled")&&e.enabled&&(t.dataLayer=Object(y.a)("office_locator_list",N))}}else"undefined"!==typeof window&&window.__ROUTE_DATA__&&(P=window.__ROUTE_DATA__);let x;x="undefined"!==typeof window&&window.__OPTIMIZELY_SETTINGS__?window.__OPTIMIZELY_SETTINGS__:(null===t||void 0===t?void 0:t.optimizelySettings)||{},P&&P.searchParams?R=P.searchParams:l.params.searchParams&&(R=Object(O.a)(l.params.searchParams));const[D,L]=Object(n.useState)(P),S=D.geoData&&0!==Object.keys(D.geoData).length;if(Object(n.useEffect)(()=>{document.querySelector("body").classList.add("has-filter-bar")},[]),Object(n.useEffect)(()=>{if("undefined"!==typeof window&&window.__ROUTE_DATA__)L(window.__ROUTE_DATA__),delete window.__ROUTE_DATA__;else{const e="@Callbacks/getSearchResults",t={language:a.locale};h.a.post("/api/branches/get-callback",{callback:e,currentRoute:Object(s.a)(Object(s.a)(Object(s.a)({},l),{routeName:"our-offices"}),{params:{searchParams:Object(v.a)(R)}}),data:t}).then(e=>{L(e.data),Object(f.a)()})}},[l.params.searchParams,d.search]),!Object.keys(D).length)return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null,r.a.createElement("header",{className:"header header--text bg-variant-brand-secondary"})),r.a.createElement("div",{className:"block__wrapper wrapper"},r.a.createElement("div",{className:"filter"},r.a.createElement(E.a,{uniqueKey:"filter-list"})),r.a.createElement("div",{className:"block__content block__content--s block__content--align-right"},r.a.createElement(E.a,{uniqueKey:"content-list"}))));let A=C.path.replace(":searchParams*","");if(R&&R.page&&1===parseInt(R.page))return r.a.createElement(o.b,{render:e=>{let{staticContext:a}=e;return a&&(a.status=301),r.a.createElement(o.a,{to:"".concat(A).concat(Object(v.a)(Object(s.a)(Object(s.a)({},R),{page:null})))})}});let I=[],F=null,G={},U=0,q=!1;if(D.searchResults&&D.searchResults.hits&&D.searchResults.hits.hits.length>0){U=D.searchResults.hits.total;let e=[],a=[];for(let t in D.searchResults.hits.hits){const s=D.searchResults.hits.hits[t]._source,n=Math.ceil(D.searchResults.hits.hits[t].sort);e.push(r.a.createElement(g.a,{key:t,branchData:s,distance:n,appConfigs:D.appConfig})),a.push(r.a.createElement(u.a,{key:t,branchData:s}))}G=Object(_.a)(R,U,l.path.replace(":searchParams*",""),D.appConfig),F="map"===R.type?r.a.createElement("div",{className:"map","data-rs-maps":"".concat("-26.6968658",",").concat("-70.2667929"),"data-rs-maps-zoom":"6","data-rs-maps-google-maps-key":D.appKeys.google_maps_api_key||"","data-rs-maps-marker-url":"/branches/assets/image/icons/marker.png"},r.a.createElement("ul",{className:"popup-bubbles hidden"},a),r.a.createElement("div",{className:"map__gmaps","data-rs-maps-placeholder":!0})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"map__list"},r.a.createElement("ul",{className:"list-items"},e)),r.a.createElement(p.a,{previous:G.previous,pagesList:G.pages,next:G.next}))}else t&&!S&&(t.status=404),q=!0,I=D.appConfig&&D.appConfig.no_result_text?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:D.appConfig.no_result_text}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,a.formatMessage({id:"Branches.NoResultsFirstLine"})),r.a.createElement("br",null),r.a.createElement("div",null,a.formatMessage({id:"Branches.NoResultsSecondLine"},{link:r.a.createElement("a",{href:l.path.replace(":searchParams*","")},a.formatMessage({id:"Branches.NoResultsLinkText"}))})));let z=!1;if(l.url===l.path.replace(":searchParams*",""))z=!0;else{if(1===Object.keys(R).length&&void 0!==R.specialism){let e=!1;for(let a in D.specialismOptions){const t=D.specialismOptions[a];if(Object(k.a)(t.name)===R.specialism){e=!0;break}}e&&(z=!0)}}const K="".concat("https://www.randstad.cl").concat(A).concat(Object(v.a)(R)),J=z?"index, follow":"noindex";let Y=a.formatMessage({id:"Branches.Title"},{sitename:"Randstad Chile"}),Z=a.formatMessage({id:"Branches.MetaTitle"},{sitename:"Randstad Chile"});R.hasOwnProperty("page")&&a.messages["Global.Page"]&&(Y="".concat(a.formatMessage({id:"Global.Page"},{page:R.page})," ").concat(Y),Z="".concat(a.formatMessage({id:"Global.Page"},{page:R.page})," ").concat(Z));const H="".concat("https://www.randstad.cl").concat("/branches/assets/image/randstad-opengraph-partner-for-talent.jpg");return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null,r.a.createElement("header",{className:"header header--text bg-variant-brand-secondary"}),r.a.createElement("title",null,Y),r.a.createElement("link",{rel:"canonical",href:K}),r.a.createElement("meta",{property:"og:url",content:K}),r.a.createElement("meta",{name:"twitter:url",content:K}),r.a.createElement("meta",{name:"title",content:Z}),r.a.createElement("meta",{name:"twitter:title",content:Z}),r.a.createElement("meta",{property:"og:title",content:Z}),r.a.createElement("meta",{name:"description",content:a.formatMessage({id:"Branches.MetaDescription"})}),r.a.createElement("meta",{name:"twitter:description",content:a.formatMessage({id:"Branches.MetaDescription"})}),r.a.createElement("meta",{property:"og:description",content:a.formatMessage({id:"Branches.MetaDescription"})}),r.a.createElement("meta",{name:"og:image",content:H}),r.a.createElement("meta",{name:"twitter:image",content:H}),r.a.createElement("meta",{name:"robots",content:J})),r.a.createElement(M.a,{optimizelySettings:x}),r.a.createElement("div",{className:"navigation__wrapper bg-variant-brand-secondary"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(T.a,{breadcrumbs:B.breadcrumbs,data:D,currentRoute:C}))),r.a.createElement(i.a,{titleTop:a.formatMessage({id:"Branches.TitleTop"}),titleBottom:a.formatMessage({id:"Branches.TitleBottom"}),bgColor:"secondary"},a.messages["BranchLocator.text"]?a.formatMessage({id:"Branches.Text"}):null),r.a.createElement(m.a,{resultsTotal:U,searchParams:R}),r.a.createElement("div",{className:"block block--filter"},r.a.createElement("div",{className:"block__wrapper wrapper"},r.a.createElement(b.a,{searchParams:D.searchParams,regionList:D.regionList,specialismOptions:D.specialismOptions,appConfigs:D.appConfig,resultsTotal:U}),r.a.createElement("div",{className:"block__content block__content--s block__content--align-right"},q?I:F))),r.a.createElement(j.a,{appSettings:D.appConfig}))}))}}]);
//# sourceMappingURL=branches-pages.3f02f89a.chunk.js.map